var MyLib;(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();var t={};function n(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}e.r(t),e.d(t,{clearOptions:()=>y,cloudy:()=>I,currentOptions:()=>u,displayedGeo:()=>d,endDate:()=>b,geonamesApi:()=>f,keysInfo:()=>i,logo:()=>k,newOptions:()=>l,pixCall:()=>x,postData:()=>r,rain:()=>D,returnGeo:()=>p,snow:()=>_,startDate:()=>g,submitFunction:()=>M,sunny:()=>S,weatherCall:()=>w,weatherbit:()=>m});var r=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,r,o,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:" ",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 4:return r=e.sent,e.prev=5,e.next=8,r.json();case 8:return o=e.sent,e.abrupt("return",o);case 12:e.prev=12,e.t0=e.catch(5),console.log("eror",e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})),function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function c(e){n(i,o,a,c,s,"next",e)}function s(e){n(i,o,a,c,s,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();function o(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){o(i,r,a,c,s,"next",e)}function s(e){o(i,r,a,c,s,"throw",e)}c(void 0)}))}}function i(){return c.apply(this,arguments)}function c(){return(c=a(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3080/keyData");case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(3),console.log("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function s(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var u=[],l={},p=function(){document.getElementById("search").addEventListener("click",(function(){MyLib.clearOptions(),MyLib.keysInfo().then((function(e){return MyLib.geonamesApi(e.geonames,e.geoUrl)}))}))},f=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.getElementById("destination"),u=[],e.next=4,fetch(n+r.value+"&maxRows=20&username="+t);case 4:return o=e.sent,e.prev=5,e.next=8,o.json();case 8:for(a=e.sent,console.log(a),console.log(a.geonames),i=0;i<a.geonames.length;i++)l={key:i,place:Object.values(a.geonames[i].toponymName).join(""),state:Object.values(a.geonames[i].adminName1).join(""),country:Object.values(a.geonames[i].countryName).join(""),lat:Object.values(a.geonames[i].lat).join(""),long:Object.values(a.geonames[i].lng).join("")},u.push(l);d(u),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),alert("Please type a more specific location and try again."),console.log("error",e.t0);case 19:case"end":return e.stop()}}),e,null,[[5,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,c,"next",e)}function c(e){s(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),d=function(e){var t=document.createElement("select");document.getElementById("select_location").appendChild(t);var n=document.createElement("option");n.textContent="Please choose from one of the following...",t.appendChild(n);for(var r=0;r<e.length;r++){var o=r+1,a="Location: "+Object.values(e[r].place).join("").toUpperCase(),i="State: "+Object.values(e[r].state).join("").toUpperCase(),c="Country: "+Object.values(e[r].country).join("").toUpperCase(),s=document.createElement("option");s.textContent=o+". "+a+"  "+i+"  "+c,t.appendChild(s)}t.addEventListener("change",(function(e){for(var t=Object.values(e.target.value).join(""),n=0,r=[];parseInt(t[n]);)r.push(t[n]),n++;var o=u[r.join("")-1];l.key=o.key,l.place=o.place,l.state=o.state,l.country=o.country,l.lat=o.lat,l.long=o.long,(u=[]).push(l),v()}))},y=function(){var e=document.querySelector("select");e&&(e.remove(),document.getElementById("date_input").style.display="none")},v=function(){var e=document.getElementById("date_input");"none"===e.style.display&&(e.style.display="flex")};function h(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var m=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r,o,a,i){var c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n+r+","+o+"/"+a+"/"+i+"?key="+t);case 2:return c=e.sent,e.prev=3,e.next=6,c.json();case 6:return s=e.sent,console.log("weather",s),e.abrupt("return",s);case 11:e.prev=11,e.t0=e.catch(3),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,c,"next",e)}function c(e){h(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e,n,r,o,a,i){return t.apply(this,arguments)}}(),g=function(e){var t=document.getElementById(e);MyLib.newOptions.startMonth=t.value[5]+t.value[6],MyLib.newOptions.startDay=t.value[8]+t.value[9],MyLib.newOptions.startDate=t.value,console.log(t.value)},b=function(e){var t=document.getElementById(e);MyLib.newOptions.endMonth=t.value[5]+t.value[6],MyLib.newOptions.endDay=t.value[8]+t.value[9],MyLib.newOptions.endDate=t.value,console.log(t.value)},w=function(){MyLib.startDate("start_date"),MyLib.endDate("end_date"),MyLib.keysInfo().then((function(e){return MyLib.weatherbit(e.visCrossKey,e.visCrossUrl,MyLib.newOptions.lat,MyLib.newOptions.long,MyLib.newOptions.startDate,MyLib.newOptions.endDate)})).then((function(e){return L("tempmax","tempmin","precip","snow","datetime","clouds",e.days)})).then((function(e){return O("month","day","highTemp","lowTemp","precip","snow",e.weatherInfo)})),console.log(MyLib.newOptions)},L=function(e,t,n,r,o,a,i){MyLib.newOptions.weatherInfo=[];for(var c=0;c<i.length;c++){var s=i[c],u={highTemp:s[e],lowTemp:s[t],precip:s[n],clouds:s[a],snow:s[r],date:s[o],month:s[o][5]+s[o][6],day:s[o][8]+s[o][9]};MyLib.newOptions.weatherInfo.push(u)}return MyLib.currentOptions.push(MyLib.newOptions),MyLib.currentOptions.splice(1),console.log(MyLib.newOptions),console.log(MyLib.currentOptions),MyLib.newOptions},O=function(e,t,n,r,o,a,i){for(var c=document.getElementById("weather"),s=0;s<i.length;s++){var u=document.createElement("card"),l=document.createElement("h2");l.textContent=i[s][e]+"/"+i[s][t],u.appendChild(l);var p=document.createElement("img");parseFloat(i[s][o])>.1&&0===i[s][a]?p.setAttribute("src","/src/client/assets/rain_clipartLibrary.jpeg"):parseFloat(i[s][o])<.1&&parseFloat(i[s][o]>.01)&&0===parseFloat(i[s][a])?p.setAttribute("src","src/client/assets/cloudy_clipArtLibrary.jpeg"):parseFloat(i[s][a])>0?p.setAttribute("src","src/client/assets/snow_clipartLibrary.jpeg"):p.setAttribute("src","src/client/assets/sunny_clipartLibrary.jpeg"),u.appendChild(p);var f=document.createElement("p");f.textContent="High of: "+i[s][n],u.appendChild(f);var d=document.createElement("p");d.textContent="Low of "+i[s][r],u.appendChild(d),c.appendChild(u)}},M=function(){document.getElementById("submit").addEventListener("click",(function(e){e.preventDefault(),Promise.all([MyLib.weatherCall(),MyLib.pixCall()]).then((function(e){return MyLib.postData("http://localhost:3080/allCurrentData",{values:e})}))}))};function j(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var x=function(){MyLib.keysInfo().then((function(e){return C(e.pixabay,e.pixabayUrl,[MyLib.newOptions.place,MyLib.newOptions.state,MyLib.newOptions.Country])})).then((function(e){return E(e,"totalHits","hits","fullHDURL")}))},C=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="",o=1===r.length?r.toString():r.join("+").toString(),console.log(r.length),console.log(n+t+"&q="+o+"&image_type=photo"),e.next=6,fetch(n+t+"&q="+r+"&image_type=photo");case 6:return a=e.sent,e.prev=7,e.next=10,a.json();case 10:return i=e.sent,console.log(i),e.abrupt("return",i);case 15:e.prev=15,e.t0=e.catch(7),console.log("error",e.t0);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){j(a,r,o,i,c,"next",e)}function c(e){j(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}(),E=function(e,t,n,r){e[t]>0?P(e[n][0][r]):MyLib.keysInfo().then((function(e){return C(e.pixabay,e.pixabayUrl,[MyLib.newOptions.country])})).then((function(e){return P(e.hits[3].fullHDURL)}))},P=function(e){MyLib.newOptions.picUrl=e,function(e){var t=document.getElementById("location_pic"),n=document.createElement("img");n.setAttribute("src",e),n.setAttribute("id","pixabay_pic"),t.appendChild(n)}(e)};const I=e.p+"5cf3ff137b6dcfcd77354ab440f38ff9.jpeg",k=e.p+"96eb555f95d59c44a0838c90d2384607.png",D=e.p+"ac145deccf375383e9c1eff8774c1b7c.jpeg",_=e.p+"9962380fe4c5ae25b2d514080cc7d6a5.jpeg",S=e.p+"52e849c192f64845818617fe7b940342.jpeg";MyLib=t})();